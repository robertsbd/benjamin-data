---
title: "Installation of Open stack"
date: 2025-03-15
---


I am interested in running a Data Platform on an Open source cloud platform. It seems that as digital soveriegnty is an important geo-political imperative that it will be important for the UK and Europe to ensure we have this soverienty. I wanted to explore what that can look like.

A starting point is to build this out with an Open source stack. It is my objective to run a Dataplatform based around Apache Spark + Delta for data storage and processing, Apache Airflow for orchestration, Node4j Graph Database for Data modelling, PosGresSQL SQL DB for SQL storage, and in time locally hosted LLMs to pull everything together.

So here, in the first instance I want to explore the extent to which you can have digital soveriengty in your bedroom, as regards an enterprise data platform. It will also be a good exploration into what the modern enterprise data platforms are, which my conjecture is that tools like Databricks and Fabric are very slick, highly marketed implementations wrappers around fairly accessible Open Source software.

I am going to record my exploration in a series of blog posts.

I will be taking this forward by first deploying a cloud platform, using Open Stack. I will then be evaulating running Apache Spark and Apache Airflow on linux compute on the Open Stack. 

Now I should say that installing OpenStack did take me a few weekends and the issue was really the network bandwidth which was causing problems with downloading very large git repositories.

For my initial installation of OpenStack and I am using DevStack (https://docs.openstack.org/devstack/latest/), as this is designed to be possible on a laptop. I am using a laptop with a Ryzen 7 AMD CPU, 16 GB of RAM, and an integrated GPU. I am running Fedora as the GNU/Linux distribution.

# Creation of a linux VM on which to install Open Stack 

The first step is to create a Virtual Machine within which to install the DevStack version of OpenStack.

I created a VM with 8 cores, 8 GB RAM and 50 GB of disk storage.

I ran Ubuntu Desktop 22.04 LTS - Jammy Jellyfish, as this is the recommendation in the DevStack documentation. 

Creating the VM was straight forward. Use your favourite VM management tool. I just used Boxes which comes with Gnome in Fedora.

# Attempt to deploy the OpenStack cloud on the virtual machine

I tried the heavyweight approach. This didn't work

Attemting to deploy Openstack itself on the VM got about halfway through before it failed. The errors were associated with the deplpyment of kurbentes contollers, and so I assumed this was associated with using an underpowered VM. At this point I decided to repeat the process on a spare laptop that I had with the required CPU cores but only 8 GB RAM, this also failed.

# Deploying DevStack
Devstack provides, I guess, a "smaller" OpenStack environment.

I was able to install this on my Virtual Machine. I did however have a number of problems. I eventually tracked these down to being associated with the stablity of my network connection, whereby the large git repos required to be installed would not be cloned cleanly. To resolve this I editted the depth of the clone process in the stack.sh install script. I set the depth to 1 such that only the recent version of the repo was being cloned and not all the history. Even with this change it still failed for one of the larger repos, and I found that running these commands in the terminal to modify the git config p fixed this problem.

`
git config --global http.postBuffer 104857600
git config --global http.version HTTP/1.1
git config --global core.compression 0
`

With this I was able to install OpenStack, and here we can see a picture of the Horizon dashboard, which is equaivalent of your Azure portal or AWS Console.

![image](images/horizon.png)


[Contact me](https://www.gamma-data.co.uk#contact)
